<!DOCTYPE html>
<html>
<head>
    <title>Chat Scholar</title>

    <style>
        body {
            font-family: Arial;
            background:#f4f6f8;
            margin:0;
        }

        h1{
            background:#2c3e50;
            color:white;
            text-align:center;
            padding:15px;
            margin:0;
        }

        .chat-container{
            max-width:800px;
            margin:20px auto;
            background:white;
            height:65vh;
            overflow-y:auto;
            padding:20px;
            border-radius:8px;
            box-shadow:0 0 10px rgba(0,0,0,0.1);
        }

        .message{
            padding:10px 15px;
            margin:10px 0;
            border-radius:15px;
            max-width:70%;
        }

        .user{
            background:#3498db;
            color:white;
            margin-left:auto;
            text-align:right;
        }

        .assistant{
            background:#ecf0f1;
            margin-right:auto;
        }

        .input-area{
            max-width:800px;
            margin:10px auto;
            display:flex;
            gap:10px;
        }

        input[type="text"]{
            flex:1;
            padding:12px;
        }

        button{
            padding:12px;
            background:#2c3e50;
            color:white;
            border:none;
            cursor:pointer;
        }
    </style>
</head>

<body>

<h1>ðŸ“˜ Chat Scholar</h1>

<div style="text-align:center;margin:10px;">
    <a href="/clear-chat" style="
        background:#e74c3c;
        color:white;
        padding:10px 15px;
        text-decoration:none;
        border-radius:5px;">
        ðŸ§¹ Clear Chat
    </a>
</div>


<!-- PDF Upload -->
<form method="POST" enctype="multipart/form-data" action="/pdf-chat">
    <input type="file" name="pdf_file" accept=".pdf">
    <button type="submit">Upload PDF</button>
</form>

<div class="chat-container" id="chatBox">

{% if chat_history %}
    {% for message in chat_history %}
        <div class="message {{ message.role }}">
            {{ message.content }}
        </div>
    {% endfor %}
{% else %}
    <p>Start chatting with Chat Scholar!</p>
{% endif %}

</div>

<form method="POST" action="/pdf-chat" class="input-area">
    <input type="text" name="user_input" placeholder="Ask something..." required>
    <button type="submit">Send</button>
</form>

<script>
    const chatBox=document.getElementById("chatBox");
    chatBox.scrollTop=chatBox.scrollHeight;
</script>

</body>
</html>
